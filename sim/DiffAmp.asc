Version 4
SHEET 1 1612 988
WIRE -128 -16 -256 -16
WIRE 32 -16 -48 -16
WIRE 288 -16 32 -16
WIRE 480 -16 368 -16
WIRE 352 192 352 144
WIRE 32 208 32 -16
WIRE 320 208 32 208
WIRE 480 224 480 -16
WIRE 480 224 384 224
WIRE 560 224 480 224
WIRE 320 240 32 240
WIRE 352 304 352 256
WIRE -128 448 -256 448
WIRE 32 448 32 240
WIRE 32 448 -48 448
WIRE 288 448 32 448
WIRE 480 448 368 448
WIRE 352 560 288 560
WIRE 480 560 480 448
WIRE 560 560 480 560
WIRE 352 624 288 624
WIRE 480 640 480 560
WIRE 352 720 272 720
WIRE 480 752 480 720
WIRE 352 768 272 768
FLAG -256 448 IN+
IOPIN -256 448 In
FLAG -256 -16 IN-
IOPIN -256 -16 In
FLAG 560 224 OUT
IOPIN 560 224 Out
FLAG 272 768 SWL
IOPIN 272 768 In
FLAG 272 720 SWH
IOPIN 272 720 In
FLAG 288 560 REF_H
IOPIN 288 560 In
FLAG 288 624 REF_L
IOPIN 288 624 In
FLAG 560 560 REF
IOPIN 560 560 Out
FLAG 352 304 Vss
IOPIN 352 304 BiDir
FLAG 352 144 Vdd
IOPIN 352 144 BiDir
FLAG 480 752 0
SYMBOL res -32 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {R1}
SYMBOL res 384 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {R2}
SYMBOL res -32 432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {R1}
SYMBOL res 384 432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {R2}
SYMBOL Opamps\\UniversalOpamp2 352 224 R0
SYMATTR InstName U1
SYMATTR Value2 Avol=1Meg GBW=1000Meg Slew=1000Meg
SYMBOL bv 480 624 R0
SYMATTR InstName B1
SYMATTR Value V=V(REF_H,REF_L)*V(SWH,SWL)+V(REF_L)
TEXT -16 -48 Left 2 !.param R1=500k R2=100k
TEXT -296 704 Left 2 !.include opamp.sub
